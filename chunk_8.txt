using such observable features. As discussed in Sections 4.2.3 & 4.2.4, the feedback parame- ters are not directly comparable between galaxy formation models. However, in general, the stellar feedback parameters are all con- strainedtosomedegreeacrossallmodels.Certainparameters,suchas 𝐴SN2forIllustris-TNG,arepredictedremarkablywell(RMSE=0.09, 𝑅2=0.96), driven by the clear impact on the UV and optical LFs and colour distributions. In contrast, the AGN parameters are, in general, not constrained at all, tending to just predict the median of each distribution. There are some exceptions, such as 𝐴AGN1 for Swift-EAGLE (RMSE=0.54, 𝑅2=0.66) and𝐴AGN2for Astrid (RMSE=0.76, 𝑅2=0.44).Thefactthatthesebothcontrolthethermal feedback mode suggests that this feedback mode may have more of an impact on the stellar contents of relatively lower mass haloes, present in these CAMELS simulation volumes. However, the dis- cussion in Section 4.2.4 clearly shows how these parameters affect galaxygrowth,andtheresultantobservables,inoppositedirections; in Swift-EAGLE, increasing the efficacy of the feedback by dump- ing more energy inhibits galaxy growth more efficiently, whereas in Astrid the opposite is true, as increasing the thermal energy per unitaccretedmasscurtailsSMBHgrowth,preventingSMBHsfrom growingmassiveenoughtostartthemoreeffectivejetfeedbackchan- nel. This may also explain why, despite the large differences seen in theLFsandcoloursforAstrid,therearesignificantdegeneraciesbe- tweenparameters,whichdegradestheposteriorpredictionaccuracy compared to e.g. 𝐴SN2. 5.3 Feature Importance and Redshift Dependence Given the promising constraints on astrophysical and cosmological parametersdemonstratedinSection5.2,wenowaskwhatparticular information in our modelled data (or features) is providing con- straintsontheseparameters.Wealsoexplorehowusinginformation at different redshifts affects our inference, and whether combining distributionfunctionsfrommultipleredshiftscanimproveparameter constraints. 5.3.1 Feature Importance Tobeginwithweshowfourexamplesoftheposteriorconstraintson simulationsfromthe Illustris-TNG testsetat𝑧=0.1as2Dcorner plots (Figure 14). The left column shows the constraints achieved whenprovidingluminosityfunctions(LFs)only,colourdistributions only, or the combination of LFs and colours. These clearly show the impact of the different features on the constraints for different parameters in these specific examples, and the correlations between the constraints on different parameters in some cases. Tobettersummarisetheimpactofthedifferentfeaturesacrossthe wholetestset,wecombinetheposteriorsinFigure15bybinningthe stackedresiduals;wherethesearemorepeakedatzero,thetighterthe constraintsonthisparameter.Herewecanclearlyseetheimportance of the various features on each parameter. Interestingly, it appears that LFs do not place tight constraints on Ωm. The variation with ΩmseeninFigure5intheFUVand 𝑟-bandismostlyforlowvalues ofΩm(< 0.3); at higher values the differences in the LFs are much smaller, which introduces large degeneracies, and leads to inflatederror estimates across the test set. Colours, on the other hand, do leadtoverytightconstraintson Ωm;thevariationcanbeseenacross the range of Ωmin Figure 5, which explains the low errors across the whole test set. For 𝜎8it appears that the use of LFs and colours individually give relatively similar constraints, but combined they provide much tighter constraints. For 𝐴SN1and𝐴SN2it is a similar story; comparable constraints for LFs and colours individually, but tighter constraints combined. The fact that colours drive the tight constraints on Ωmis a some- what surprising result. Jo et al. (2023) show how using just the binned galaxy stellar mass function can achieve tight constraints on cosmological and astrophysical parameters, even in the presence of simulation uncertainty. We do not include the 𝐾-band in this anal- ysis, which is known to closely trace the underlying stellar mass, howeveronemightnaivelyexpecttheopticalluminosityfunctionsto still provide sufficient information on the total stellar mass content. Thissuggeststhattheimpactofageandmetallicitydegeneraciesmay play an important role. It also highlights how the colours trace the stellarageoftheglobalgalaxypopulation,whichcanbesignificantly higher in a universe with a lower Ωm(up to 18 Gyr for Ωm=0.1), sincelowmassstarshaveexceedinglylonglifetimes(exceeding100 Gyrs; Laughlin et al. 1997). 5.3.2 Redshift Dependence Figure14alsoshowstwoexamplecornerplots(rightcolumn)when using the combination of the LFs and colours obtained at different redshifts. In all these examples the marginal posteriors are tighter when combining information from different redshifts, as expected. We summarise results from the whole test set in Figure 15, as we didfortheLFsandcolours.For Ωm,usingdataat 𝑧=0.1hasthemost constrainingpower,andthisdegradesathigherredshift.However,the improvement from combining information from the three redshifts is significant, decreasing the RMSE by >0.01. Interestingly, for 𝜎8 themostconstrainingpowerisprovidedbythedistributionfunctions at𝑧=2; this suggests that the impact of matter clustering on the luminositiesandcoloursofgalaxypopulationsmaybemoreevident at cosmic noon. Itisworthnotingthat,intheseexamples,bycombiningsnapshots at different redshifts we are at risk of using the same galaxies at different points in their evolution. This may bias our constraints compared to a real survey, since galaxies at different redshifts along the lightcone will not be associated in the real Universe, and this evolution encoded at different times may be more constraining than independentmeasurements.Inordertoovercomethisissuewecould subdivideeachsimulationvolumeandtakegalaxiesfromsubboxesat different redshifts, however for the CAMELS boxes considered here the volumes are too small to get sufficient statistics. We will more robustly assess the impact of these correlations in future work with the larger volume CAMELS-SAM simulations (Perez et al. 2023). 5.4 Generalization Across Different Models Oneofthemotivationsforincludingmultiplegalaxyformationsim- ulations in the CAMELS suite was to enable tests of the robustness of trained machine learning algorithms to different training simu- lations (de Santi et al. 2023b; Ni et al. 2023). In this case, we can use the forward modelled photometry from one simulation as input to our SBI pipeline trained on another, and test the recovery of the underlyingparameters.Sincetheastrophysicalparametersrepresent differentaspectsofeachmodelwecannotperforminferenceonthese MNRAS 000, 1–27 (2024)LtU: Parameter inference on photometry 21 Figure 14. Posterior 2D and 1D marginal posteriors for two randomly selected test set simulations from the Illustris-TNG suite. Each column of corner plots shows the same test set simulation posteriors, assuming different input features. The true values are indicated by the black dashed lines. Top row: posteriors givenluminosityfunctions(blue),colours(orange),orbothcombined(green). Bottom row: posteriorsgivenluminosityfunctionsandcoloursat 𝑧=0.1(navy), 𝑧=2.0(olive), and both redshifts combined (pink). betweenmodels,soinsteadwefocusonthecosmologicalparameters Ωmand𝜎8. We find very poor recovery of parameters when testing between simulations,andthisisthecaseacrossallsimulationsusedfortrain- ingtheSBIframeworkandtesting.Thereasonforthiscanbeclearly seen in Figures 5, 6, 8, 9, 10 and 11, which show the range of lumi- nosity functions and colour distributions across the 1P sets of each subgrid model. There is very little agreement or overlap in the de- tailed distributions, which leads to out-of-distribution errors when performinginference.Wehavetestedusingjustluminosityfunctionsor just colour distributions, as well as reducing the fidelity of the distribution functions by reducing the number of bins, and achieve similarly poor results. Themainsourceofthislackofrobustnessistheverydifferentsub- gridprescriptionsineachmodel,whichleadtodifferentdistributions of point-in-time properties, such as stellar mass and star formation rate, as well as different overall star formation histories (Iyer et al. in prep.). Another source of inflexibility is in our forward model for galaxyemission,whichassumesasimpledustprescription,andfixes many key parameters, such as the nebular cloud dispersion time. In MNRAS 000, 1–27 (2024)22 C. C. Lovell et al. Figure15. Combinedmarginalposteriordistributionof Ωm,𝜎8,𝐴SN1and𝐴SN2fromalltestsetobjectsinthe Illustris-TNG suite. Left:modelstrainedusing luminosity functions (blue), colours (orange), or both combined (green). Right:models trained using luminosity functions and colours combined at 𝑧=0.1 (navy),𝑧=1.0(green),𝑧=2.0(olive), and all three redshifts combined (pink). future work we will self-consistently modify elements