the star formation and metal enrichment history of each simulated galaxy. Many also account for line and continuumemissionfromyoungnebularregions,utilisingphotoion- isation codes such as Mappings andCloudy(Dopita & Sutherland 1996;Chatzikosetal.2023).Oneofthemostimportantgalaxycom- ponentsthathasanoutsizedimpactontheobservedspectralenbergy distribution (SED) is cosmic dust, which leads to attenuation in the UVâ€“optical, and thermal emission in the infrared (Calzetti 2001; Draine 2003). There are a number of methods for modelling this attenuation and emission, from simple analytic models (Charlot & Fall 2000) to full dust radiative transfer approaches (Camps & Baes 2015; Narayanan et al. 2021). Itisclearfromthesevariousingredientsintheforwardmodelthat manydegeneraciescanbeintroduced.Forexample,thechoiceofSPS model can have a large impact on the predicted intrinsic emission, particularly if the impact of binaries is taken into account (Wilkins etal.2016;Stanwayetal.2016;Eldridgeetal.2017;Tortorellietal. 2024;Bellstedt&Robotham2024).Photoionisationmodellingintro- ducesalargenumberofadditionalparameters,suchasthehydrogen densityoftheincidentcloud,thevalueoftheassumedionisationpa- rameter,aswellasthechemicalabundancesofthecloudandsource (Byleretal.2017;Wilkinsetal.2020).Thedustattenuationlawcan alsotakeanumberofforms,dependentonthegrainsizedistribution andcomposition(Steinackeretal.2013),anddependontheintrinsic properties of galaxies in various ways (Salim & Narayanan 2020; Trayford et al. 2020; Hahn et al. 2022), such as by scaling the over- all attenuation by the mass and metallicity of star forming gas (see Trayfordetal.2015;Lovelletal.2019;VÄ³ayanetal.2021;Pallottini etal.2022).Despitethisflexibilityintheforwardmodel,achievinga match to observations has still proven exceedingly difficult. Optical luminosity functions, well constrained observationally in the local (ğ‘§âˆ¼0.1) Universe, have been reproduced with varying success, and accurate colour distributions have proven to be even more elusive; achieving the right balance of blue (star-forming) to red (passive, dustobscured)galaxiesisacomplexchallenge(Trayfordetal.2015, 2017; Nelson et al. 2018; Lagos et al. 2019; Donnari et al. 2019; Bravoetal.2020;Dickeyetal.2021;TrÄkaetal.2022;Gebeketal. 2024). Despite these difficulties, a few recent works have forward mod- elled observed galaxy properties from hydrodynamic simulations and used these within an SBI framework. Recently, Choustikov et al. (2024) forward modelled JWST NIRCam photometry from the Sphinx simulations to estimate the ionising emissivity of high- redshiftgalaxies.Ofparticularrelevanceforthisstudyistheworkof Hahnetal.(2024),whoshowedhowcompetitivecosmologicalcon- straints can be achieved using galaxy photometry alone calculated from the Illustris-TNG suite of CAMELS; they combined the poste- riorsfromindividualgalaxiestoachievetighterconstraints,comple- menting the work of Villaescusa-Navarro et al. (2022) &Echeverri- Rojas et al. (2023); Chawak et al. (2024) that performed parameter inference on single galaxies. Inference on other forward modelled properties from CAMELS, such as diffuse gas emission and ab- sorption,hasalsobeendemonstrated( ?ButlerContrerasetal.2023; Tillman et al. 2023). In this paper we present the first simultaneous constraints of cos- MNRAS 000, 1â€“27 (2024)LtU: Parameter inference on photometry 3 mological and astrophysical parameters using observable galaxy distribution functions, forward modelled from the CAMELS sim- ulation suite. All photometric catalogues are made publicly avail- able at https://camels.readthedocs.io/en/latest/data_ access.html for the community to use. This paper is released as partoftheLearningtheUniversecollaboration,1whichseekstolearn thecosmologicalparametersandinitialconditionsoftheUniverseby leveragingBayesianforwardmodellingapproaches.Thehopeisthat by better understanding the link between cosmology, astrophysics, and forward modelled observables, we can build better models for performingthiskindofinference.Thepaperisarrangedasfollows.In Section 2 we describe the CAMELS simulations, including details on the simulation sets used in this analysis. We describe our for- wardmodelforpredictinggalaxyemissionandextractingrest-frame photometry in Section 3. In Section 4 we explore the distribution functions from the various CAMELS suites, and the impact of the cosmological and astrophysical parameters. We present our results in Section 5, as well as introducing the Learning the Universe Im- plicitLikelihoodInference(LtU-ILI)frameworkforSBI.Wediscuss our results in Section 6 as well as the difficulties of performing SBI directly on observed relations. We summarise our conclusions in Section 7. 2 THE CAMELS SIMULATIONS The Cosmology and Astrophysics with MachinE Learning Simula- tionsproject(CAMELS;Villaescusa-Navarroetal.2021b)isasuite ofover14000cosmologicalhydrodynamicand ğ‘-bodysimulations, designed to explore the effect of cosmological and astrophysical parameter choices on structure formation and galaxy evolution, par- ticularly through their use within machine learning frameworks. In thisprojectweusethehydrodynamicsimulationsfromfourdifferent codes: (i)Simba(DavÃ© et al. 2019), run with the Gizmocode (Hopkins 2015). (ii)IllustrisTNG (Pillepichetal.2018;Weinbergeretal.2018), run with the Arepocode (Springel 2010; Weinberger et al. 2019). (iii)Astrid(Bird et al. 2022; Ni et al. 2022), run with the MP- Gadgetcode. The addition of Astrid to the CAMELS suite is de- scribed in (Ni et al. 2023), including details of modifications com- pared to the fiducial Astrid model. (iv)Swift-EAGLE (Schayeetal.2015;Crainetal.2015),runwith theSwiftcode (Schaller et al. 2024b) using the Sphenixsmoothed particle hydrodynamics implementation (Borrow et al. 2022). The additionofSwift-EAGLEtotheCAMELSsuiteisdescribedinLovell et al. in prep.. Thesemodelsrepresentacombinationofdifferentsubgridmodels for gas cooling, chemical enrichment, star formation, stellar feed- back, black hole assembly and AGN feedback. There are also dif- ferences in the underlying hydrodynamics solvers; Arepoimple- ments an unstructured Voronoi tesselation, Gizmouses a meshless finite-mass method, and MP-Gadget andSwiftutilise Smoothed Particle Hydrodynamics (SPH). Together these differences lead to significant macro differences between the predicted galaxy proper- ties (Villaescusa-Navarro et al. 2021b; Ni et al. 2022), however the fiducialsimulationsallreproducethegalaxystellarmassfunction(as well as other key scaling relations) at ğ‘§=0to reasonable accuracy. 1https://learning-the-universe.org/Each simulation contains 2563dark matter and baryonic (gas particle) resolution elements, of mass ğ‘šDM=6.49Ã—107(Î©mâˆ’ Î©b)/0.251â„âˆ’1ğ‘€âŠ™andğ‘šb=1.27Ã—107â„âˆ’1ğ‘€âŠ™, respectively, withina periodicvolume of (25â„âˆ’1)3Mpc3.The initialconditions for each simulation were generated using second order Lagrangian perturbation theory using MUSIC(Hahn & Abel 2011), assuming the same initial power spectrum of gas and dark matter particles at ğ‘§=127. In all simulations a number of parameters are kept fixed, such asÎ©b=0.049,â„=0.6711,ğ‘›ğ‘ =0.9624,ğ‘€ğœˆ=0.0 eV, ğ‘¤=âˆ’1,Î©ğ¾=0. The differences between simulations are in the initial random phases, as well as 4 astrophysical parameters ( ğ´SN1, ğ´SN2,ğ´AGN1,ğ´AGN2)and2cosmologicalparameters( Î©m,ğœ8).We stressthat,duetodifferencesinthesubgridmodelimplementations, the astrophysical parameters in each suite have different meanings. This is true even in the case where two simulations vary the same quantity(e.g.thewindspeed),becauseofthepreciseimplementation details, but also because different models hold different secondary parameters constant whilst varying this primary variable. The phys- ical meaning of each parameter in each galaxy formation model is described in Table 1. StructuresarefirstidentifiedwiththeFriends-of-Friendsalgorithm (FOF; Davis et al. 1985) and substructrues with Subfind (Springel etal.2001).Wetreatthe Subfindoutputsasdiscretegalaxies,where the total stellar mass is >108MâŠ™(corresponding to at least 5 star particles). We note that resolution effects due to discrete sampling ofthestarformationhistorycanhavealargeimpactontheresulting emission, particularly in the UV (Trayford et al. 2015). We will explore methods for smoothing the recent star formation in future work. In this work we extract the age and metallicity of each star particle in each subhalo, and model the emission from each star particle independently (described in Section 3). There are a number of different simulation sets within each CAMELS suite. The Cosmic Variance (CV) set contains 27 simula- tions with identical (fiducial) parameters, only changing the initial randomnumberseed,inordertoprovideameansofassessingtheim- pactofcosmicvariance.TheLatinHypercube(LH)setcontains1000 simulations where the 6 parameters are varied using a latin hyper- cube within the following ranges: Î©mâˆˆ[0.1,0.5],ğœ8âˆˆ[0.6,1.0], ğ´SN1âˆˆ [0.25,4.0],ğ´SN2âˆˆ [0.5,2.0],ğ´AGN1âˆˆ [0.25,4.0], and ğ´AGN2âˆˆ[0.5,2.0]2. The 1 Parameter (1P) set contains 25 simu- lations where one parameter